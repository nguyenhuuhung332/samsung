/* Global Gadget Platform V2 - GlobalHeaderFrontEnd$41.0.0 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("GadgetPlatform",n()):(e=e||self).GadgetPlatform=n()}(this,function(){"use strict";function o(){try{localStorage.setItem("ebay-font",n)}catch(e){}}function e(){var e,n,t;(t=(t=i&&i.load)&&/Apple/.test(window.navigator.vendor)?!((n=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&parseInt(n[1],10)<603):t)?(i.load("1em Market Sans"),i.load("bold 1em Market Sans"),i.ready.then(o)):(e=r,n=function(){var e=new FontFaceObserver("Market Sans"),n=new FontFaceObserver("Market Sans",{weight:"bold"});Promise.all([e.load(),n.load()]).then(o)},(t=document.createElement("script")).type="application/javascript",t.async=!0,t.onload=n,t.src=e,(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e))}var i,n,r;function t(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r=Object.keys(Object(i)),a=0,d=r.length;a<d;a++){var s=r[a],c=Object.getOwnPropertyDescriptor(i,s);void 0!==c&&c.enumerable&&(t[s]=i[s])}}return t}i=document.fonts,n="font-marketsans",r="https://ir.ebaystatic.com/cr/v/c1/vendor/fontfaceobserver.js","fontDisplay"in document.documentElement.style||localStorage&&localStorage.getItem("ebay-font")===n||window.addEventListener("load",function(){requestAnimationFrame?requestAnimationFrame(e):e()}),{assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}.polyfill();function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,n,t){return n&&c(e.prototype,n),t&&c(e,t),e};function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l={DATA_MISSING:"dataMissing",TYPE_MISMATCH:"typeMismatch"},u=void 0;function f(e){return Array.isArray(e)?"array":null===e?"null":void 0===e?"undefined":a(e)}function p(e){return e="string"==typeof e?e.split(".").join(",").replace(/\[\d\]/g,function(e){return e=","+(e=e.replace(/[\[\]']+/g,""))}).split(","):e}function m(e,n){return n.reduce(function(e,n){return e&&void 0!==e[n]?e[n]:void 0},e)}function v(e,n,t,o){var i=3<arguments.length&&void 0!==o?o:"warn",r=void 0,a=m(e,n=p(n)),o=f(a),e=f(t);return"undefined"===e?(t="",e="string"):"object"===e&&function(e){if(e){for(var n in e)if(e.hasOwnProperty(n))return;return 1}}(t)&&(t={__isEmpty:!0}),"undefined"!==o?o!==e&&(r=l.TYPE_MISMATCH,a=t):(r=l.DATA_MISSING,a=t),u&&i&&r&&(r=r,n=n,t=t,u[i=i]&&u[i]("event: %s, path: %s, default: %s",r,n,t)),a}var g={has:function(e,n){return!("undefined"===(n=f(m(e,n=p(n))))||"null"===n)},get:function(e,n,t){return v(e,n,t)},need:function(e,n,t,o){return v(e,n,t,o)},setLogger:function(e){u=e}};g.privates={EVENT_TYPES:l};!function(){if("undefined"!=typeof Element){var e=function(){var e,n=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e]}()}}();if("undefined"!=typeof Element)for(var h=["matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],w=0;w<h.length;w++){var y=h[w];if(Element.prototype[y]){0;break}}var b=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window;return"requestAnimationFrame"in n?n.requestAnimationFrame(e):n.setTimeout(e,0)};function S(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document;d(this,S),this.doc=o,this.cb=t,this.js=e,this.jsSize=this.js&&this.js.length,this.css=n,this.cssSize=this.css&&this.css.length;o=(o.body||o.getElementsByTagName("head")[0]).childNodes;this.ref=o[o.length-1]}function E(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=[],o=[];return Array.prototype.forEach.call(e,function(e){"nb_script"===e.id?(n&&(e.id=n),t.push(e.innerHTML)):o.push(e.innerHTML)}),t.concat(o)}function I(){var e=document.createElement("div");return e.id=j,e.style.display="none",document.body.appendChild(e),e}var T=(s(S,[{key:"init",value:function(){this.js&&this.css?this.loadCSS(this.css):this.cb()}},{key:"loadJS",value:function(e){var n,t=this;e&&(Array.isArray(e)?e.forEach(function(e){t.loadJS(e)}):((n=this.doc.createElement("script")).defer=!0,n.src=e,n.type="text/javascript",n.addEventListener("load",function e(){n.addEventListener&&n.removeEventListener("load",e),t.jsSize--,t.jsSize<=0&&t.cb()}),this.ref.parentNode.insertBefore(n,this.ref.nextSibling)))}},{key:"loadCSS",value:function(e){var n,t=this;e&&(Array.isArray(e)?e.forEach(function(e){t.loadCSS(e)}):((n=this.doc.createElement("link")).rel="stylesheet",n.href=e,n.media="temp",n.addEventListener("load",function e(){n.addEventListener&&n.removeEventListener("load",e),n.media="all",t.cssSize--,t.cssSize<=0&&t.loadJS(t.js)}),this.ref.parentNode.insertBefore(n,this.ref.nextSibling)))}}]),S),C=b,j="gh_user",k={initAndRenderWidgets:function(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.hasEncodedHtml,r=void 0===n||n,t=e.js,n=e.css,e=e.jsInline,a=void 0===e?"":e;new T(t,n,function(){var e=document.getElementById(j)||I(),n=i.reduce(function(e,n){return e+(r?decodeURI(n.html):n.html)},"");e.innerHTML+=n;var t=e.querySelectorAll("script"),o=E(t),n=i.map(function(e){return e.init}),e="";a&&(e=(t="null"===(t=r?decodeURI(a):a)?"":t).slice(t.indexOf(">")+1,t.lastIndexOf("<")).trim()),function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,e=n.createTextNode(e),t=n.createElement("script");t.setAttribute("data-type","appended"),t.appendChild(e),C(function(){return n.body.appendChild(t)})}(n.join(" ; ").concat(" ; ").concat(o).concat(" ; ").concat(e)),"function"==typeof window.markoDynamicInitComponents&&window.markoDynamicInitComponents()}).init()},initAndRenderOnDemandWidgets:function(e,n,t){var o="",i=document.createElement("div");i.setAttribute("data-type","ondemand"),i.innerHTML+=e,i.classList.add("on-demand-widgets-placeholder");e=i.querySelector(".gh-module-with-target"),e=e&&e.dataset.targetSelector||"#widgets-placeholder",e=document.querySelector(e);e.appendChild(i),e.style.display="block";i=i.querySelectorAll("script");i&&0<i.length&&(o=E(i,"nb_ondemand_script"));i=document.createElement("script");i.classList.add("on-demand-scripts"),i.type="text/javascript",i.setAttribute("data-type","on-demand-scripts"),i.appendChild(document.createTextNode(o)),document.body.appendChild(i),"function"==typeof window.markoInitComponents&&(window.markoInitComponents(n),document.dispatchEvent(new CustomEvent("gadget-component-added",{detail:t})))}};k.privates={HOLDER_ID:j,createHolder:I};function A(e){var n=e.renderType,t=e.renderDelay,o=e.widgets,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,e=o&&o[0],a=e&&e.js,d=e&&e.css,s=e&&e.jsInline;1===n?i(o,{js:a,css:d,jsInline:s}):2===n?H(function(){return i(o,{js:a,css:d,jsInline:s})},r):function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;H(function(){window.setTimeout(n,e)},t)}(t,function(){return i(o,{js:a,css:d,jsInline:s})},r)}var O=g.need,_=k.initAndRenderWidgets,D=k.initAndRenderOnDemandWidgets,H=function(e){"complete"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).readyState?e():window.addEventListener("load",e)},b=function(e){var n=e.renderedComponents,t=e.html,o=e.content,i=e.js,r=e.css,a=e.jsInline,d=e.onDemand,s=e.parameters,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_;1===d?D(t,n,s):(window.widget_platform_renderedComponents=n,e([{html:t||o,init:""}],{hasEncodedHtml:!1,js:i,css:r,jsInline:a}))},k=function(e){var n=window.widget_platform_ondemandUASDoneEventType;n&&(document.dispatchEvent(new CustomEvent(n,{detail:O(e,"content.response.modules",{})})),delete window.widget_platform_ondemandUASDoneEventType)};function M(e){var n=e.widgetResponse,t=void 0===n?{}:n,o=e.onFallback,i=e.initializer,r=void 0===i?A:i;d(this,M);var a=t.widgets,n=t.queryParam,e=t.triggerFallBack,i=t.renderType,t=t.renderDelay;this.props={widgets:a||[],queryParam:n||{},triggerFallBack:void 0===e||e,onFallback:o,initializer:r,renderType:i,renderDelay:t}}function L(e){!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};window&&e.widgetPlatformOndemandUASDoneEventType&&(window.widget_platform_ondemandUASDoneEventType=e.widgetPlatformOndemandUASDoneEventType),e.onDemand=1,Q(e)}(e&&e.detail)}function P(){document&&document.addEventListener&&document.addEventListener("widget-platform-ondemand-uas-request",L,!1);try{new q({widgetResponse:V,onFallback:Q}).init()}catch(e){console.debug("WidgetComponent init errored.")}}var q=(s(M,[{key:"initializeWidgets",value:function(){var e=this.props,n=e.widgets;(0,e.initializer)({widgets:n,renderType:e.renderType,renderDelay:e.renderDelay})}},{key:"handleFallback",value:function(){var e=this.props,n=e.queryParam;(0,e.onFallback)(n)}},{key:"init",value:function(){this.props.triggerFallBack?this.handleFallback():this.initializeWidgets()}}]),M),R=g.has,x=g.get,F="X_EBAY_C_CORRELATION_SESSION",N="raptor.require",G="trkCorrelationSessionInfo.getTrackingCorrelationSessionInfo",z={readRaptorContext:function(){if(R(window,N))return x(window,N,function(){})("ebay.context.Context")},extractSessionInfo:function(){if(R(window,G))return x(window,G,function(){})()},addSessionInfoIntoPage:function(e){window.trkCorrelationSessionInfo={},window.trkCorrelationSessionInfo.getTrackingInfo=function(){return JSON.parse(JSON.stringify(e))},window.trkCorrelationSessionInfo.getTrackingCorrelationSessionInfo=function(){return e[F]}}},B="undefined",U=function(e){var n=z.extractSessionInfo(),t={},o=null;if(n)return n;try{o=z.readRaptorContext()}catch(e){o=null}o=o&&o.pid;return o||(e=e||window,o=x(e,"GH.C.pageId",0)),o?(t[F]="operationId="+o,z.addSessionInfoIntoPage(t),t[F]):null},W=b,J=k,Y=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,e=a((n=e).GH)!==B&&n.GH&&"function"==typeof n.GH.getWidgetDeliveryPlatform&&n.GH.getWidgetDeliveryPlatform(),n=e&&e.base_path,e=e&&e.new_buyer_acquistion;return n&&e?n+e:"/gh/useracquisition"},X=function(e){if(e instanceof ProgressEvent){e=e.target||e.currentTarget;if(e instanceof XMLHttpRequest)return e.responseText}},K=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=n.route||Y(),t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={correlation:U()},t=(t=window.GH&&window.GH.C&&window.GH.C.xhrBaseUrl).replace(/^https?:\/\//,"");return window.location.hostname!==t&&(n.customReferer=encodeURIComponent(window.location.href)),Object.assign(n,e)}(n),o=n.method||"GET",i=JSON.stringify(n.body)||"",r={shouldRetry:!1,timeout:1e4};if(n.route&&(r.hasFullXhrUrl=!0),"HttpClient"in window)return new window.HttpClient(e,o,t,i,r,window).handlers({onload:function(e){return function(e,n){e=X(e);if(e)try{var t=e&&JSON.parse(e),o=t.rawResponse?J:W;t.parameters=n,o(t)}catch(e){console.debug("Unable to parse Response",e)}}(e,n)},onerror:function(e){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};console.debug("useracquisition request has failed!",e);var t=new CustomEvent("gadget-request-error",{detail:{err:e,parameters:n}});document.dispatchEvent(t),n.rawResponse&&J(e)}(e,n)}})},V=window.widget_platform,Q=function(){var e=K(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});e&&e.initializeAndTrigger()},k={destroy:function(){document.removeEventListener("widget-platform-ondemand-uas-request",L)},init:P,v:2};return void 0!==window.GH&&void 0!==window.GH.C&&P(),"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&(window.GadgetPlatform=k),k});
/* Delivered by Global Header, ISPROD=true */
